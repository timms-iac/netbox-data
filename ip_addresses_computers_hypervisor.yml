---
netbox_ip_addresses_computers_hypervisor:
  - address: "172.25.5.250/32"
    assigned_object:
      device: "kiab"
      name: "hypervisor0"
    vrf: "hypervisor"

  - address: "172.25.5.1/32"
    assigned_object:
      device: "try01"
      name: "mgmt0"
    dns_name: "try01.home.{{ domain_name }}"
    vrf: "hypervisor"
  - address: "172.25.5.2/32"
    assigned_object:
      device: "try02"
      name: "mgmt0"
    dns_name: "try02.home.{{ domain_name }}"
    vrf: "hypervisor"
  - address: "172.25.5.3/32"
    assigned_object:
      device: "try03"
      name: "mgmt0"
    dns_name: "try03.home.{{ domain_name }}"
    vrf: "hypervisor"
  - address: "172.25.5.4/32"
    assigned_object:
      device: "aoo01"
      name: "mgmt0"
    dns_name: "aoo01.home.{{ domain_name }}"
    vrf: "hypervisor"
  - address: "172.25.5.5/32"
    assigned_object:
      device: "aoo02"
      name: "mgmt0"
    dns_name: "aoo02.home.{{ domain_name }}"
    vrf: "hypervisor"
  - address: "172.25.5.6/32"
    assigned_object:
      device: "mnbox01"
      name: "mgmt0"
    dns_name: "mnbox01.home.{{ domain_name }}"
    vrf: "hypervisor"
  - address: "172.25.5.7/32"
    assigned_object:
      device: "mnbox02"
      name: "mgmt0"
    dns_name: "mnbox02.home.{{ domain_name }}"
    vrf: "hypervisor"

  - address: "172.25.5.253/32"
    role: "VRRP"
    vrf: "hypervisor"
    assigned_object_id: '{{ query("netbox.netbox.nb_lookup", "fhrp-groups",
        api_filter="group_id=2505",
        api_endpoint="http://" + netbox_loadbalancer_ip,
        token=netbox_ansible_token) | map(attribute="key") | join(",") }}'
    assigned_object_type: "ipam.fhrpgroup"

